<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="关于数据泵(data pump)的说明，数据泵是exp&#x2F;imp的升级，exp&#x2F;imp是客户端程序，既可以在客户点使用，也可以在服务端使用，利用Oracle客户端工具，可以直接将服务器上的数据导入被本地电脑。expdp&#x2F;impdp是服务端工具，只能在服务端使用。两种工具也无法混用，就是说exp导出的数据无法使用impdp导入。对于小于GB的数据可以exp&#x2F;imp，对于大于GB的数据来说exp&#x2F;im">
<meta property="og:type" content="article">
<meta property="og:title" content="Expdp&#x2F;Impdp">
<meta property="og:url" content="http://falkon.cn/2020/03/13/database/expdp_impdp/index.html">
<meta property="og:site_name" content="Falkon">
<meta property="og:description" content="关于数据泵(data pump)的说明，数据泵是exp&#x2F;imp的升级，exp&#x2F;imp是客户端程序，既可以在客户点使用，也可以在服务端使用，利用Oracle客户端工具，可以直接将服务器上的数据导入被本地电脑。expdp&#x2F;impdp是服务端工具，只能在服务端使用。两种工具也无法混用，就是说exp导出的数据无法使用impdp导入。对于小于GB的数据可以exp&#x2F;imp，对于大于GB的数据来说exp&#x2F;im">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-03-13T06:22:43.482Z">
<meta property="article:modified_time" content="2020-03-13T09:33:04.952Z">
<meta property="article:author" content="Falkon">
<meta property="article:tag" content="expdp">
<meta property="article:tag" content="impdp">
<meta name="twitter:card" content="summary">
    
    
        
          
              <link rel="shortcut icon" href="http://q6p62toq8.falkon.cn/favicon.png">
          
        
        
          
            <link rel="icon" type="image/png" href="http://q6p62toq8.falkon.cn/favicon.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="http://q6p62toq8.falkon.cn/favicon.png">
          
        
    
    <!-- title -->
    <title>Expdp/Impdp</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- rss -->
    
    
<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about">About</a></li>
         
          <li><a href="/archives">Archives</a></li>
         
          <li><a href="/review">Review</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2020/03/13/database/exp_imp/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2020/03/12/linux/Linux%E6%89%A9%E5%B1%95swap%E5%88%86%E5%8C%BA/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://falkon.cn/2020/03/13/database/expdp_impdp/" target="_blank" rel="noopener"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://falkon.cn/2020/03/13/database/expdp_impdp/&text=Expdp/Impdp" target="_blank" rel="noopener"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://falkon.cn/2020/03/13/database/expdp_impdp/&title=Expdp/Impdp" target="_blank" rel="noopener"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://falkon.cn/2020/03/13/database/expdp_impdp/&is_video=false&description=Expdp/Impdp" target="_blank" rel="noopener"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Expdp/Impdp&body=Check out this article: http://falkon.cn/2020/03/13/database/expdp_impdp/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://falkon.cn/2020/03/13/database/expdp_impdp/&title=Expdp/Impdp" target="_blank" rel="noopener"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://falkon.cn/2020/03/13/database/expdp_impdp/&title=Expdp/Impdp" target="_blank" rel="noopener"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://falkon.cn/2020/03/13/database/expdp_impdp/&title=Expdp/Impdp" target="_blank" rel="noopener"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://falkon.cn/2020/03/13/database/expdp_impdp/&title=Expdp/Impdp" target="_blank" rel="noopener"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://falkon.cn/2020/03/13/database/expdp_impdp/&name=Expdp/Impdp&description=" target="_blank" rel="noopener"><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Expdp/Impdp
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Falkon</span>
      </span>
      
    <div class="postdate">
        <time datetime="2020-03-13T06:22:43.482Z" itemprop="datePublished">2020-03-13</time>
    </div>


      
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/expdp/" rel="tag">expdp</a>, <a class="tag-link" href="/tags/impdp/" rel="tag">impdp</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <ul>
<li><p>关于数据泵(data pump)的说明，数据泵是exp/imp的升级，exp/imp是客户端程序，既可以在客户点使用，也可以在服务端使用，利用Oracle客户端工具，可以直接将服务器上的数据导入被本地电脑。expdp/impdp是服务端工具，只能在服务端使用。两种工具也无法混用，就是说exp导出的数据无法使用impdp导入。对于小于GB的数据可以exp/imp，对于大于GB的数据来说exp/imp的效率较为低下，建议对于Oracle 11g以上版本的数据库都采用expdp/impdp</p>
</li>
<li><p>expdp/impdp的使用方法主要有四种方式（完全、用户、表空间、表）,需要dba权限<br>使用expdp/impdp需要创建逻辑目录，逻辑目录所对应的实际目录应存在于操作系统中，如果逻辑目录所对应的实际目录不存在将会报如下错误，RAC两节点都需要创建，创建的目录需要oracle:oinstall属组</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[oracle@ystdb11g backups]$ expdp system@ystdb directory=dir_dmp dumpfile=full_expdp_20200313.dmp </span><br><span class="line">logfile=full_expdp_20200313.log full=y</span><br><span class="line"></span><br><span class="line">Export: Release 11.2.0.4.0 - Production on Fri Mar 13 00:29:28 2020</span><br><span class="line"></span><br><span class="line">Copyright (c) 1982, 2011, Oracle and/or its affiliates.  All rights reserved.</span><br><span class="line">Password:</span><br><span class="line"></span><br><span class="line">Connected to: Oracle Database 11g Enterprise Edition Release 11.2.0.4.0 - 64bit Production</span><br><span class="line">With the Partitioning, OLAP, Data Mining and Real Application Testing options</span><br><span class="line">ORA-39002: invalid operation</span><br><span class="line">ORA-39070: Unable to open the <span class="built_in">log</span> file.</span><br><span class="line">ORA-39087: directory name DIR_DMP is invalid</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建逻辑目录并授权</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; create directory dir_dmp as '/backups';  </span><br><span class="line"></span><br><span class="line">Directory created.</span><br><span class="line">SQL&gt; grant read,write on directory dir_dmp to public;</span><br><span class="line"></span><br><span class="line"><span class="keyword">Grant</span> succeeded.</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看逻辑目录</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; set linesize 300</span><br><span class="line">col owner for a5</span><br><span class="line">col directory_name for a25</span><br><span class="line">col directory_path for a80</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> dba_directories;</span><br><span class="line"></span><br><span class="line">OWNER DIRECTORY_NAME        DIRECTORY_PATH</span><br><span class="line"><span class="comment">----- ------------------------- -----------------------------------------------------------------</span></span><br><span class="line">SYS   DIR_DMP                   /backups</span><br><span class="line">SYS   XMLDIR                    /u01/app/oracle/product/11.2.0/dbhome_1/rdbms/xml</span><br><span class="line">SYS   ORACLE_OCM_CONFIG_DIR     /u01/app/oracle/product/11.2.0/dbhome_1/ccr/hosts/ystdb11g/state</span><br><span class="line">SYS   DATA_PUMP_DIR             /u01/app/oracle/admin/ystdb/dpdump/</span><br><span class="line">SYS   ORACLE_OCM_CONFIG_DIR2    /u01/app/oracle/product/11.2.0/dbhome_1/ccr/state</span><br></pre></td></tr></table></figure>
</li>
<li><p>EXPDP 完全</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[oracle@ystdb11g backups]$ expdp system@ystdb directory=dir_dmp dumpfile=full_expdp_20200313.dmp </span><br><span class="line">logfile=full_expdp_20200313.log full=y</span><br></pre></td></tr></table></figure>
</li>
<li><p>EXPDP 用户</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">[oracle@ystdb11g backups]$ expdp <span class="built_in">test</span>@ystdb directory=dir_dmp dumpfile=test_expdp_20200313.dmp </span><br><span class="line">logfile=test_expdp_20200313.log schemas=<span class="built_in">test</span></span><br><span class="line"></span><br><span class="line">Export: Release 11.2.0.4.0 - Production on Fri Mar 13 00:52:16 2020</span><br><span class="line"></span><br><span class="line">Copyright (c) 1982, 2011, Oracle and/or its affiliates.  All rights reserved.</span><br><span class="line">Password:</span><br><span class="line"></span><br><span class="line">Connected to: Oracle Database 11g Enterprise Edition Release 11.2.0.4.0 - 64bit Production</span><br><span class="line">With the Partitioning, OLAP, Data Mining and Real Application Testing options</span><br><span class="line">Starting <span class="string">"TEST"</span>.<span class="string">"SYS_EXPORT_SCHEMA_01"</span>:  <span class="built_in">test</span>/********@ystdb directory=dir_dmp dumpfile=</span><br><span class="line">test_expdp_20200313.dmp logfile=test_expdp_20200313.log schemas=<span class="built_in">test</span></span><br><span class="line">Estimate <span class="keyword">in</span> progress using BLOCKS method...</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/TABLE_DATA</span><br><span class="line">Total estimation using BLOCKS method: 3.062 MB</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/USER</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/SYSTEM_GRANT</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/ROLE_GRANT</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/DEFAULT_ROLE</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/PRE_SCHEMA/PROCACT_SCHEMA</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/TABLE</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/COMMENT</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/INDEX/INDEX</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/CONSTRAINT/CONSTRAINT</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/INDEX/STATISTICS/INDEX_STATISTICS</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/STATISTICS/TABLE_STATISTICS</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB05"</span>                              772.4 KB   15000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB04"</span>                              513.7 KB   10000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB03"</span>                              361.4 KB    7000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB02"</span>                              310.6 KB    6000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB01"</span>                              259.9 KB    5000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB06"</span>                              5.015 KB       1 rows</span><br><span class="line">Master table <span class="string">"TEST"</span>.<span class="string">"SYS_EXPORT_SCHEMA_01"</span> successfully loaded/unloaded</span><br><span class="line">******************************************************************************</span><br><span class="line">Dump file <span class="built_in">set</span> <span class="keyword">for</span> TEST.SYS_EXPORT_SCHEMA_01 is:</span><br><span class="line">  /backups/test_expdp_20200313.dmp</span><br><span class="line">Job <span class="string">"TEST"</span>.<span class="string">"SYS_EXPORT_SCHEMA_01"</span> successfully completed at Fri Mar 13 00:52:32 2020 </span><br><span class="line">elapsed 0 00:00:12</span><br></pre></td></tr></table></figure>
</li>
<li><p>EXPDP 表空间</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">[oracle@ystdb11g backups]$ expdp <span class="built_in">test</span>@ystdb directory=dir_dmp dumpfile=tbs_test_expdp_20200313.dmp </span><br><span class="line">logfile=tbs_test_expdp_20200313.log tablespaces=TEST</span><br><span class="line"></span><br><span class="line">Export: Release 11.2.0.4.0 - Production on Fri Mar 13 00:54:07 2020</span><br><span class="line"></span><br><span class="line">Copyright (c) 1982, 2011, Oracle and/or its affiliates.  All rights reserved.</span><br><span class="line">Password:</span><br><span class="line"></span><br><span class="line">Connected to: Oracle Database 11g Enterprise Edition Release 11.2.0.4.0 - 64bit Production</span><br><span class="line">With the Partitioning, OLAP, Data Mining and Real Application Testing options</span><br><span class="line">Starting <span class="string">"TEST"</span>.<span class="string">"SYS_EXPORT_TABLESPACE_01"</span>:  <span class="built_in">test</span>/********@ystdb directory=dir_dmp dumpfile=</span><br><span class="line">tbs_test_expdp_20200313.dmp logfile=tbs_test_expdp_20200313.log tablespaces=TEST</span><br><span class="line">Estimate <span class="keyword">in</span> progress using BLOCKS method...</span><br><span class="line">Processing object <span class="built_in">type</span> TABLE_EXPORT/TABLE/TABLE_DATA</span><br><span class="line">Total estimation using BLOCKS method: 3.062 MB</span><br><span class="line">Processing object <span class="built_in">type</span> TABLE_EXPORT/TABLE/TABLE</span><br><span class="line">Processing object <span class="built_in">type</span> TABLE_EXPORT/TABLE/COMMENT</span><br><span class="line">Processing object <span class="built_in">type</span> TABLE_EXPORT/TABLE/INDEX/INDEX</span><br><span class="line">Processing object <span class="built_in">type</span> TABLE_EXPORT/TABLE/CONSTRAINT/CONSTRAINT</span><br><span class="line">Processing object <span class="built_in">type</span> TABLE_EXPORT/TABLE/INDEX/STATISTICS/INDEX_STATISTICS</span><br><span class="line">Processing object <span class="built_in">type</span> TABLE_EXPORT/TABLE/STATISTICS/TABLE_STATISTICS</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB05"</span>                              772.4 KB   15000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB04"</span>                              513.7 KB   10000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB03"</span>                              361.4 KB    7000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB02"</span>                              310.6 KB    6000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB01"</span>                              259.9 KB    5000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB06"</span>                              5.015 KB       1 rows</span><br><span class="line">Master table <span class="string">"TEST"</span>.<span class="string">"SYS_EXPORT_TABLESPACE_01"</span> successfully loaded/unloaded</span><br><span class="line">******************************************************************************</span><br><span class="line">Dump file <span class="built_in">set</span> <span class="keyword">for</span> TEST.SYS_EXPORT_TABLESPACE_01 is:</span><br><span class="line">  /backups/tbs_test_expdp_20200313.dmp</span><br><span class="line">Job <span class="string">"TEST"</span>.<span class="string">"SYS_EXPORT_TABLESPACE_01"</span> successfully completed at Fri Mar 13 00:54:20 2020 </span><br><span class="line">elapsed 0 00:00:10</span><br></pre></td></tr></table></figure>
</li>
<li><p>EXPDP 表</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[oracle@ystdb11g backups]$ expdp <span class="built_in">test</span>@ystdb directory=dir_dmp dumpfile=test_ttb01_expdp_20200313.dmp </span><br><span class="line">logfile=test_ttb01_expdp_20200313.log tables=TTB01</span><br><span class="line"></span><br><span class="line">Export: Release 11.2.0.4.0 - Production on Fri Mar 13 00:56:26 2020</span><br><span class="line"></span><br><span class="line">Copyright (c) 1982, 2011, Oracle and/or its affiliates.  All rights reserved.</span><br><span class="line">Password:</span><br><span class="line"></span><br><span class="line">Connected to: Oracle Database 11g Enterprise Edition Release 11.2.0.4.0 - 64bit Production</span><br><span class="line">With the Partitioning, OLAP, Data Mining and Real Application Testing options</span><br><span class="line">Starting <span class="string">"TEST"</span>.<span class="string">"SYS_EXPORT_TABLE_01"</span>:  <span class="built_in">test</span>/********@ystdb directory=dir_dmp dumpfile=</span><br><span class="line">test_ttb01_expdp_20200313.dmp logfile=test_ttb01_expdp_20200313.log tables=TTB01</span><br><span class="line">Estimate <span class="keyword">in</span> progress using BLOCKS method...</span><br><span class="line">Processing object <span class="built_in">type</span> TABLE_EXPORT/TABLE/TABLE_DATA</span><br><span class="line">Total estimation using BLOCKS method: 384 KB</span><br><span class="line">Processing object <span class="built_in">type</span> TABLE_EXPORT/TABLE/TABLE</span><br><span class="line">Processing object <span class="built_in">type</span> TABLE_EXPORT/TABLE/STATISTICS/TABLE_STATISTICS</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB01"</span>                              259.9 KB    5000 rows</span><br><span class="line">Master table <span class="string">"TEST"</span>.<span class="string">"SYS_EXPORT_TABLE_01"</span> successfully loaded/unloaded</span><br><span class="line">******************************************************************************</span><br><span class="line">Dump file <span class="built_in">set</span> <span class="keyword">for</span> TEST.SYS_EXPORT_TABLE_01 is:</span><br><span class="line">  /backups/test_ttb01_expdp_20200313.dmp</span><br><span class="line">Job <span class="string">"TEST"</span>.<span class="string">"SYS_EXPORT_TABLE_01"</span> successfully completed at Fri Mar 13 00:56:33 2020 elapsed 0 00:00:03</span><br></pre></td></tr></table></figure>
</li>
<li><p>parallel参数</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">[oracle@ystdb11g backups]$ expdp <span class="built_in">test</span>@ystdb directory=dir_dmp dumpfile=test_expdp_20200313_%U.dmp </span><br><span class="line">logfile=test_expdp_20200313_4.log schemas=<span class="built_in">test</span> parallel=4</span><br><span class="line"></span><br><span class="line">Export: Release 11.2.0.4.0 - Production on Fri Mar 13 00:59:21 2020</span><br><span class="line"></span><br><span class="line">Copyright (c) 1982, 2011, Oracle and/or its affiliates.  All rights reserved.</span><br><span class="line">Password:</span><br><span class="line"></span><br><span class="line">Connected to: Oracle Database 11g Enterprise Edition Release 11.2.0.4.0 - 64bit Production</span><br><span class="line">With the Partitioning, OLAP, Data Mining and Real Application Testing options</span><br><span class="line">Starting <span class="string">"TEST"</span>.<span class="string">"SYS_EXPORT_SCHEMA_01"</span>:  <span class="built_in">test</span>/********@ystdb directory=dir_dmp dumpfile=</span><br><span class="line">test_expdp_20200313_%U.dmp logfile=test_expdp_20200313_4.log schemas=<span class="built_in">test</span> parallel=4</span><br><span class="line">Estimate <span class="keyword">in</span> progress using BLOCKS method...</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/TABLE_DATA</span><br><span class="line">Total estimation using BLOCKS method: 3.062 MB</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/USER</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/SYSTEM_GRANT</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/ROLE_GRANT</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/DEFAULT_ROLE</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB05"</span>                              772.4 KB   15000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB04"</span>                              513.7 KB   10000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB03"</span>                              361.4 KB    7000 rows</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/PRE_SCHEMA/PROCACT_SCHEMA</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB02"</span>                              310.6 KB    6000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB01"</span>                              259.9 KB    5000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB06"</span>                              5.015 KB       1 rows</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/TABLE</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/COMMENT</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/INDEX/INDEX</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/CONSTRAINT/CONSTRAINT</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/INDEX/STATISTICS/INDEX_STATISTICS</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/STATISTICS/TABLE_STATISTICS</span><br><span class="line">Master table <span class="string">"TEST"</span>.<span class="string">"SYS_EXPORT_SCHEMA_01"</span> successfully loaded/unloaded</span><br><span class="line">******************************************************************************</span><br><span class="line">Dump file <span class="built_in">set</span> <span class="keyword">for</span> TEST.SYS_EXPORT_SCHEMA_01 is:</span><br><span class="line">  /backups/test_expdp_20200313_01.dmp</span><br><span class="line">  /backups/test_expdp_20200313_02.dmp</span><br><span class="line">  /backups/test_expdp_20200313_03.dmp</span><br><span class="line">Job <span class="string">"TEST"</span>.<span class="string">"SYS_EXPORT_SCHEMA_01"</span> successfully completed at Fri Mar 13 00:59:35 2020 </span><br><span class="line">elapsed 0 00:00:12</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过attach观察，数据量较小时，开启并行也只有一个进程在工作，其他的进程处于等待状态，可启用进程数等于：预估数据量 % 250M来计算</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">[oracle@ystdb11g backups]$ expdp <span class="built_in">test</span>/<span class="built_in">test</span> attach=SYS_EXPORT_SCHEMA_01</span><br><span class="line"></span><br><span class="line">Export: Release 11.2.0.4.0 - Production on Fri Mar 13 01:28:03 2020</span><br><span class="line"></span><br><span class="line">Copyright (c) 1982, 2011, Oracle and/or its affiliates.  All rights reserved.</span><br><span class="line"></span><br><span class="line">Connected to: Oracle Database 11g Enterprise Edition Release 11.2.0.4.0 - 64bit Production</span><br><span class="line">With the Partitioning, OLAP, Data Mining and Real Application Testing options</span><br><span class="line"></span><br><span class="line">Job: SYS_EXPORT_SCHEMA_01</span><br><span class="line">  Owner: TEST                           </span><br><span class="line">  Operation: EXPORT                         </span><br><span class="line">  Creator Privs: TRUE                           </span><br><span class="line">  GUID: A0ACACA983CE325AE0530C70A8C0453C</span><br><span class="line">  Start Time: Friday, 13 March, 2020 1:28:00</span><br><span class="line">  Mode: SCHEMA                         </span><br><span class="line">  Instance: ystdb</span><br><span class="line">  Max Parallelism: 4</span><br><span class="line">  EXPORT Job Parameters:</span><br><span class="line">  Parameter Name      Parameter Value:</span><br><span class="line">     CLIENT_COMMAND        <span class="built_in">test</span>/********@ystdb directory=dir_dmp dumpfile=test_expdp_20200313_%U.dmp </span><br><span class="line">     logfile=test_expdp_20200313_4.log schemas=<span class="built_in">test</span> parallel=4</span><br><span class="line">  State: EXECUTING                      </span><br><span class="line">  Bytes Processed: 10,219,928</span><br><span class="line">  Percent Done: 99</span><br><span class="line">  Current Parallelism: 4</span><br><span class="line">  Job Error Count: 0</span><br><span class="line">  Dump File: /backups/test_expdp_20200313_%u.dmp</span><br><span class="line">  Dump File: /backups/test_expdp_20200313_01.dmp</span><br><span class="line">    bytes written: 4,096</span><br><span class="line">  Dump File: /backups/test_expdp_20200313_02.dmp</span><br><span class="line">    bytes written: 1,499,136</span><br><span class="line">  Dump File: /backups/test_expdp_20200313_03.dmp</span><br><span class="line">    bytes written: 8,744,960</span><br><span class="line">  </span><br><span class="line">Worker 1 Status:</span><br><span class="line">  Process Name: DW00</span><br><span class="line">  State: EXECUTING                      </span><br><span class="line">  Object Schema: TEST</span><br><span class="line">  Object Type: SCHEMA_EXPORT/DEFAULT_ROLE</span><br><span class="line">  Completed Objects: 1</span><br><span class="line">  Total Objects: 1</span><br><span class="line">  Worker Parallelism: 1</span><br><span class="line">  </span><br><span class="line">Worker 2 Status:</span><br><span class="line">  Process Name: DW01</span><br><span class="line">  State: WORK WAITING                   </span><br><span class="line">  </span><br><span class="line">Worker 3 Status:</span><br><span class="line">  Process Name: DW02</span><br><span class="line">  State: WORK WAITING                   </span><br><span class="line">  </span><br><span class="line">Worker 4 Status:</span><br><span class="line">  Process Name: DW03</span><br><span class="line">  State: WORK WAITING</span><br></pre></td></tr></table></figure>
</li>
<li><p>version参数<br>指定导出的数据库版本，关键字compatible</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; show parameter compatible</span><br><span class="line"></span><br><span class="line">NAME                     TYPE     VALUE</span><br><span class="line">------------------------------------ ----------- ------------------------------</span><br><span class="line">compatible                 string     11.2.0.4.0</span><br><span class="line"></span><br><span class="line">[oracle@ystdb11g backups]$ expdp <span class="built_in">test</span>@ystdb directory=dir_dmp dumpfile=test_expdp_11.2.0.4.0_%U.dmp </span><br><span class="line">logfile=test_expdp_11.2.0.4.0_4.log schemas=<span class="built_in">test</span> version=11.2.0.4.0</span><br><span class="line"></span><br><span class="line">Export: Release 11.2.0.4.0 - Production on Fri Mar 13 01:46:27 2020</span><br><span class="line"></span><br><span class="line">Copyright (c) 1982, 2011, Oracle and/or its affiliates.  All rights reserved.</span><br><span class="line">Password:</span><br><span class="line"></span><br><span class="line">Connected to: Oracle Database 11g Enterprise Edition Release 11.2.0.4.0 - 64bit Production</span><br><span class="line">With the Partitioning, OLAP, Data Mining and Real Application Testing options</span><br><span class="line">Starting <span class="string">"TEST"</span>.<span class="string">"SYS_EXPORT_SCHEMA_01"</span>:  <span class="built_in">test</span>/********@ystdb directory=dir_dmp dumpfile=</span><br><span class="line">test_expdp_11.2.0.4.0_%U.dmp logfile=test_expdp_11.2.0.4.0_4.log schemas=<span class="built_in">test</span> version=11.2.0.4.0</span><br><span class="line">Estimate <span class="keyword">in</span> progress using BLOCKS method...</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/TABLE_DATA</span><br><span class="line">Total estimation using BLOCKS method: 12.06 MB</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/USER</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/SYSTEM_GRANT</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/ROLE_GRANT</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/DEFAULT_ROLE</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/PRE_SCHEMA/PROCACT_SCHEMA</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/TABLE</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/COMMENT</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/INDEX/INDEX</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/CONSTRAINT/CONSTRAINT</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/INDEX/STATISTICS/INDEX_STATISTICS</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/STATISTICS/TABLE_STATISTICS</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB07"</span>                              7.575 MB  150000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB05"</span>                              772.4 KB   15000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB04"</span>                              513.7 KB   10000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB03"</span>                              361.4 KB    7000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB02"</span>                              310.6 KB    6000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB01"</span>                              259.9 KB    5000 rows</span><br><span class="line">. . exported <span class="string">"TEST"</span>.<span class="string">"TTB06"</span>                              5.015 KB       1 rows</span><br><span class="line">Master table <span class="string">"TEST"</span>.<span class="string">"SYS_EXPORT_SCHEMA_01"</span> successfully loaded/unloaded</span><br><span class="line">******************************************************************************</span><br><span class="line">Dump file <span class="built_in">set</span> <span class="keyword">for</span> TEST.SYS_EXPORT_SCHEMA_01 is:</span><br><span class="line">  /backups/test_expdp_11.2.0.4.0_01.dmp</span><br><span class="line">Job <span class="string">"TEST"</span>.<span class="string">"SYS_EXPORT_SCHEMA_01"</span> successfully completed at Fri Mar 13 01:46:44 2020 </span><br><span class="line">elapsed 0 00:00:12</span><br></pre></td></tr></table></figure>
</li>
<li><p>IMPDP 完全</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[oracle@ystdb11g backups]$ impdp system@ystdb directory=dir_dmp dumpfile=full_expdp_20200313.dmp </span><br><span class="line">logfile=full_impdp_20200313.log full=y</span><br></pre></td></tr></table></figure>
</li>
<li><p>IMPDP 用户</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[oracle@ystdb11g backups]$ impdp <span class="built_in">test</span>@ystdb directory=dir_dmp dumpfile=test_expdp_20200313.dmp </span><br><span class="line">logfile=test_imp_20200313.log schemas=<span class="built_in">test</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>IMPDP 表空间</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[oracle@ystdb11g backups]$ impdp <span class="built_in">test</span>@ystdb directory=dir_dmp dumpfile=tbs_test_expdp_20200313.dmp </span><br><span class="line">logfile=tbs_test_impdp_20200313.log tablespaces=TEST</span><br></pre></td></tr></table></figure>
</li>
<li><p>IMPDP 表</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[oracle@ystdb11g backups]$ impdp <span class="built_in">test</span>@ystdb directory=dir_dmp dumpfile=test_ttb01_expdp_20200313.dmp </span><br><span class="line">logfile=test_ttb01_impdp_20200313.log tables=TTB01</span><br></pre></td></tr></table></figure></li>
<li><p>remap_schema，导入时重新指定用户，多个用户以英文逗号隔开</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[oracle@ystdb11g backups]$ impdp sh@ystdb directory=dir_dmp dumpfile=test_expdp_20200313.dmp </span><br><span class="line">logfile=test_impdp_20200313.log remap_schema=<span class="built_in">test</span>:sh</span><br><span class="line"></span><br><span class="line">Import: Release 11.2.0.4.0 - Production on Fri Mar 13 02:09:25 2020</span><br><span class="line"></span><br><span class="line">Copyright (c) 1982, 2011, Oracle and/or its affiliates.  All rights reserved.</span><br><span class="line">Password:</span><br><span class="line"></span><br><span class="line">Connected to: Oracle Database 11g Enterprise Edition Release 11.2.0.4.0 - 64bit Production</span><br><span class="line">With the Partitioning, OLAP, Data Mining and Real Application Testing options</span><br><span class="line">Master table <span class="string">"SH"</span>.<span class="string">"SYS_IMPORT_FULL_01"</span> successfully loaded/unloaded</span><br><span class="line">Starting <span class="string">"SH"</span>.<span class="string">"SYS_IMPORT_FULL_01"</span>:  sh/********@ystdb directory=dir_dmp dumpfile=</span><br><span class="line">test_expdp_20200313.dmp logfile=test_impdp_20200313.log remap_schema=<span class="built_in">test</span>:sh</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/USER</span><br><span class="line">ORA-31684: Object <span class="built_in">type</span> USER:<span class="string">"SH"</span> already exists</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/SYSTEM_GRANT</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/ROLE_GRANT</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/DEFAULT_ROLE</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/PRE_SCHEMA/PROCACT_SCHEMA</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/TABLE</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/TABLE_DATA</span><br><span class="line">. . imported <span class="string">"SH"</span>.<span class="string">"TTB07"</span>                                7.575 MB  150000 rows</span><br><span class="line">. . imported <span class="string">"SH"</span>.<span class="string">"TTB05"</span>                                772.4 KB   15000 rows</span><br><span class="line">. . imported <span class="string">"SH"</span>.<span class="string">"TTB04"</span>                                513.7 KB   10000 rows</span><br><span class="line">. . imported <span class="string">"SH"</span>.<span class="string">"TTB03"</span>                                361.4 KB    7000 rows</span><br><span class="line">. . imported <span class="string">"SH"</span>.<span class="string">"TTB02"</span>                                310.6 KB    6000 rows</span><br><span class="line">. . imported <span class="string">"SH"</span>.<span class="string">"TTB01"</span>                                259.9 KB    5000 rows</span><br><span class="line">. . imported <span class="string">"SH"</span>.<span class="string">"TTB06"</span>                                5.015 KB       1 rows</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/STATISTICS/TABLE_STATISTICS</span><br><span class="line">Job <span class="string">"SH"</span>.<span class="string">"SYS_IMPORT_FULL_01"</span> completed with 1 error(s) at Fri Mar 13 02:09:28 2020 </span><br><span class="line">elapsed 0 00:00:01</span><br></pre></td></tr></table></figure>
</li>
<li><p>remap_tablespace，导入时重新指定表空间，多个表空间以英文逗号隔开</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[oracle@ystdb11g backups]$ impdp <span class="built_in">test</span>@ystdb directory=dir_dmp dumpfile=</span><br><span class="line">test_expdp_20200313.dmp logfile=test_impdp_20200313.log remap_tablespace=<span class="built_in">test</span>:shtbs</span><br><span class="line"></span><br><span class="line">Import: Release 11.2.0.4.0 - Production on Fri Mar 13 02:16:14 2020</span><br><span class="line"></span><br><span class="line">Copyright (c) 1982, 2011, Oracle and/or its affiliates.  All rights reserved.</span><br><span class="line">Password:</span><br><span class="line"></span><br><span class="line">Connected to: Oracle Database 11g Enterprise Edition Release 11.2.0.4.0 - 64bit Production</span><br><span class="line">With the Partitioning, OLAP, Data Mining and Real Application Testing options</span><br><span class="line">Master table <span class="string">"TEST"</span>.<span class="string">"SYS_IMPORT_FULL_01"</span> successfully loaded/unloaded</span><br><span class="line">Starting <span class="string">"TEST"</span>.<span class="string">"SYS_IMPORT_FULL_01"</span>:  <span class="built_in">test</span>/********@ystdb directory=dir_dmp dumpfile=</span><br><span class="line">test_expdp_20200313.dmp logfile=test_impdp_20200313.log remap_tablespace=<span class="built_in">test</span>:shtbs</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/USER</span><br><span class="line">ORA-31684: Object <span class="built_in">type</span> USER:<span class="string">"TEST"</span> already exists</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/SYSTEM_GRANT</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/ROLE_GRANT</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/DEFAULT_ROLE</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/PRE_SCHEMA/PROCACT_SCHEMA</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/TABLE</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/TABLE_DATA</span><br><span class="line">. . imported <span class="string">"TEST"</span>.<span class="string">"TTB07"</span>                              7.575 MB  150000 rows</span><br><span class="line">. . imported <span class="string">"TEST"</span>.<span class="string">"TTB05"</span>                              772.4 KB   15000 rows</span><br><span class="line">. . imported <span class="string">"TEST"</span>.<span class="string">"TTB04"</span>                              513.7 KB   10000 rows</span><br><span class="line">. . imported <span class="string">"TEST"</span>.<span class="string">"TTB03"</span>                              361.4 KB    7000 rows</span><br><span class="line">. . imported <span class="string">"TEST"</span>.<span class="string">"TTB02"</span>                              310.6 KB    6000 rows</span><br><span class="line">. . imported <span class="string">"TEST"</span>.<span class="string">"TTB01"</span>                              259.9 KB    5000 rows</span><br><span class="line">. . imported <span class="string">"TEST"</span>.<span class="string">"TTB06"</span>                              5.015 KB       1 rows</span><br><span class="line">Processing object <span class="built_in">type</span> SCHEMA_EXPORT/TABLE/STATISTICS/TABLE_STATISTICS</span><br><span class="line">Job <span class="string">"TEST"</span>.<span class="string">"SYS_IMPORT_FULL_01"</span> completed with 1 error(s) at Fri Mar 13 02:16:19 2020 </span><br><span class="line">elapsed 0 00:00:01</span><br></pre></td></tr></table></figure></li>
</ul>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about">About</a></li>
         
          <li><a href="/archives">Archives</a></li>
         
          <li><a href="/review">Review</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://falkon.cn/2020/03/13/database/expdp_impdp/" target="_blank" rel="noopener"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://falkon.cn/2020/03/13/database/expdp_impdp/&text=Expdp/Impdp" target="_blank" rel="noopener"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://falkon.cn/2020/03/13/database/expdp_impdp/&title=Expdp/Impdp" target="_blank" rel="noopener"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://falkon.cn/2020/03/13/database/expdp_impdp/&is_video=false&description=Expdp/Impdp" target="_blank" rel="noopener"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Expdp/Impdp&body=Check out this article: http://falkon.cn/2020/03/13/database/expdp_impdp/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://falkon.cn/2020/03/13/database/expdp_impdp/&title=Expdp/Impdp" target="_blank" rel="noopener"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://falkon.cn/2020/03/13/database/expdp_impdp/&title=Expdp/Impdp" target="_blank" rel="noopener"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://falkon.cn/2020/03/13/database/expdp_impdp/&title=Expdp/Impdp" target="_blank" rel="noopener"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://falkon.cn/2020/03/13/database/expdp_impdp/&title=Expdp/Impdp" target="_blank" rel="noopener"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://falkon.cn/2020/03/13/database/expdp_impdp/&name=Expdp/Impdp&description=" target="_blank" rel="noopener"><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2020 Falkon
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about">About</a></li>
         
          <li><a href="/archives">Archives</a></li>
         
          <li><a href="/review">Review</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<link rel="stylesheet" href="/lib/meslo-LG/styles.css">


<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">


<!-- jquery -->

<script src="http://q6p62toq8.falkon.cn/jquery.min.js"></script>


<script src="http://q6p62toq8.falkon.cn/jquery.justifiedGallery.min.js"></script>


<script src="/js/main.js"></script>





